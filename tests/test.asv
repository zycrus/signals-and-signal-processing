[b, a] = butter(4, [50 500]/(44100/2), "bandpass");

figure;
[H, F] = freqz(b, a, 1024, 44100);
subplot(2, 1, 1);
plot(F, abs(H));
xlim([0 44100/2]);
% ylim([-100 1]);
title('Frequency Response');
xlabel('Frequency (Hz)');
ylabel('Gain');


f_cursor = 50;
hold on;
line([f_cursor f_cursor], ylim, 'Color', 'g', 'LineStyle', '--', 'LineWidth', 1);
text(f_cursor, 0, sprintf(' %.1f Hz', f_cursor), 'HorizontalAlignment', 'left', 'VerticalAlignment', 'top', 'Color', 'r');

f_cursor = 500;
line([f_cursor f_cursor], ylim, 'Color', 'r', 'LineStyle', '--', 'LineWidth', 1);
text(f_cursor, max(abs(H)), sprintf(' %.1f Hz', f_cursor), 'HorizontalAlignment', 'left', 'VerticalAlignment', 'bottom', 'Color', 'r');
hold off;

[b, a] = butter(4, [500 2000]/(44100/2), "bandpass");

figure;
[H, F] = freqz(b, a, 1024, 44100);
subplot(2, 1, 1);
plot(F, abs(H));
xlim([0 44100/2]);
% ylim([-100 1]);
title('Frequency Response');
xlabel('Frequency (Hz)');
ylabel('Gain');


f_cursor = 500;
hold on;
line([f_cursor f_cursor], ylim, 'Color', 'r', 'LineStyle', '--', 'LineWidth', 1);
text(f_cursor, 0, sprintf(' %.1f Hz', f_cursor), 'HorizontalAlignment', 'left', 'VerticalAlignment', 'top', 'Color', 'r');

f_cursor = 2000;
line([f_cursor f_cursor], ylim, 'Color', 'r', 'LineStyle', '--', 'LineWidth', 1);
text(f_cursor, max(abs(H)), sprintf(' %.1f Hz', f_cursor), 'HorizontalAlignment', 'left', 'VerticalAlignment', 'bottom', 'Color', 'r');
hold off;